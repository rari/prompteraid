module.exports = {
  plugins: [
    require('autoprefixer'),
    require('cssnano')({
      preset: ['default', {
        discardComments: {
          removeAll: true,
        },
        normalizeWhitespace: true,
        colormin: true,
        minifyFontValues: true,
        minifySelectors: true,
      }]
    }),
    process.env.NODE_ENV === 'production' && require('@fullhuman/postcss-purgecss')({
      content: [
        './*.html',
        './js/**/*.js',
        './api/**/*.js'
      ],
      defaultExtractor: content => content.match(/[\w-/:]+(?<!:)/g) || [],
      safelist: [
        /^fa-/,
        /^favorite-button/,
        /^quadrant-flip-button/,
        /^link-button/,
        /^weight-control/,
        /^gallery-item/,
        /^action-button/,
        /^theme-toggle/,
        /^mode-toggle/,
        /^model-selector/,
        /^new-styles/,
        /^more-info/,
        /^tutorial-icon/,
        /^menu-icon-style/,
        /^selected-color-/,
        /^quadrant-/,
        /^weight-color-/,
        /^weight-plus/,
        /^weight-minus/,
        /^weight-display/,
        /^pop-animation/,
        /^highlight-item/,
        /^glow-copied/,
        /^spinning/,
        /^shake/,
        /^bounce/,
        /^spin/,
        /^pop/,
        /^blink/,
        /^fade-in/,
        /^pulse/,
        /^float/,
        /^rotate/,
        /^tropical/,
        /^gradient/,
        /^model-change/,
        /^hidden/,
        /^visible/,
        /^active/,
        /^copied/,
        /^filled/,
        /^clear-button-active/,
        /^website-mode/,
        /^current/,
        /^sr-only/,
        /^skip-link/,
        /^focus-visible/,
        /^dark-mode/,
        /^light-mode/,
        /^info-notification/,
        /^warning-notification/,
        /^error-notification/,
        /^text-primary/,
        /^text-secondary/,
        /^text-center/,
        /^flex/,
        /^grid-2/,
        /^sr-only/,
        /^shake-animation/,
        /^no-transition/,
        /^styles-month-glow/,
        /^styles-month-label/,
        /^month-label/,
        /^current-model/,
        /^model-option/,
        /^model-dropdown/,
        /^filter-divider/,
        /^filter-divider-label/,
        /^filter-divider-link/,
        /^no-favorites/,
        /^no-selected/,
        /^favorites-tools/,
        /^favorites-tools-header/,
        /^favorites-tools-buttons/,
        /^export-favorites/,
        /^no-favorites-banner/,
        /^no-selected-banner/,
        /^social-link/,
        /^social-links/,
        /^social-label/,
        /^social-text/,
        /^footer-content/,
        /^footer-main/,
        /^footer-brand/,
        /^footer-links/,
        /^footer-bottom/,
        /^footer-credit/,
        /^footer-legal/,
        /^footer-divider/,
        /^footer-wave/,
        /^footer-logo/,
        /^footer-title/,
        /^footer-subtitle/,
        /^brand-text/,
        /^logo-glow/,
        /^shape-fill/,
        /^creator-link/,
        /^tool-link/,
        /^home-link/,
        /^back-to-top-btn/,
        /^bubble/,
        /^modal-container/,
        /^modal-content/,
        /^modal-buttons/,
        /^modal-btn/,
        /^cookie-icon/,
        /^close-button/,
        /^select-icon-placeholder/,
        /^inline-icon/,
        /^tool-guide-list/,
        /^sref-guide-section/,
        /^info-section/,
        /^news-section/,
        /^shortcuts-grid/,
        /^shortcut-item/,
        /^keyboard-shortcuts/,
        /^shortcuts-section/,
        /^sticky-action-bar/,
        /^sticky-prompt-preview/,
        /^prompt-preview/,
        /^final-prompt/,
        /^copy-button/,
        /^toggle-preview-button/,
        /^search-container/,
        /^search-input/,
        /^button-search/,
        /^news-container/,
        /^news-content/,
        /^input-group/,
        /^prompt-input/,
        /^sticky-prompt-input/,
        /^button-trash/,
        /^button-refresh/,
        /^button-star/,
        /^button-eye/,
        /^button-randomize/,
        /^button-clipboard/,
        /^button-search/,
        /^action-buttons-row/,
        /^theme-toggle-container/,
        /^mode-toggle-container/,
        /^discord-icon/,
        /^website-icon/,
        /^cute-title-container/,
        /^title-link/,
        /^cute-title/,
        /^emoji-prefix/,
        /^emoji-suffix/,
        /^image-count-subheader/,
        /^subheader-text/,
        /^image-count-number/,
        /^selected-count/,
        /^subheader-inline/,
        /^model-selector-inline/,
        /^legal-page/,
        /^notification-container/,
        /^notification/,
        /^modern-footer/,
        /^site-footer/,
        /^footer-links-section/,
        /^footer-brand-section/,
        /^footer-logo-container/,
        /^weight-controls/,
        /^weight-control-button/,
        /^weight-plus/,
        /^weight-minus/,
        /^weight-display/,
        /^weight-color-0/,
        /^weight-color-1/,
        /^weight-color-2/,
        /^weight-color-3/,
        /^weight-color-4/,
        /^weight-color-5/,
        /^weight-color-6/,
        /^new-styles-section/,
        /^new-styles-container/,
        /^new-styles-content/,
        /^new-styles-gallery/,
        /^new-styles-item/,
        /^new-styles-more-btn/,
        /^more-info-container/,
        /^more-info-content/,
        /^tutorial-icon-pink/,
        /^tutorial-icon-orange/,
        /^tutorial-icon-yellow/,
        /^tutorial-icon-green/,
        /^tutorial-icon-teal/,
        /^tutorial-icon-blue/,
        /^tutorial-icon-purple/,
        /^image-gallery/,
        /^gallery-item/,
        /^prompt-container/,
        /^container/,
        /^cute-title-container/,
        /^title-link/,
        /^cute-title/,
        /^emoji-prefix/,
        /^emoji-suffix/,
        /^image-count-subheader/,
        /^subheader-text/,
        /^image-count-number/,
        /^selected-count/,
        /^subheader-inline/,
        /^model-selector-inline/,
        /^legal-page/,
        /^notification-container/,
        /^notification/,
        /^modern-footer/,
        /^site-footer/,
        /^footer-links-section/,
        /^footer-brand-section/,
        /^footer-logo-container/,
        /^weight-controls/,
        /^weight-control-button/,
        /^weight-plus/,
        /^weight-minus/,
        /^weight-display/,
        /^weight-color-0/,
        /^weight-color-1/,
        /^weight-color-2/,
        /^weight-color-3/,
        /^weight-color-4/,
        /^weight-color-5/,
        /^weight-color-6/,
        /^new-styles-section/,
        /^new-styles-container/,
        /^new-styles-content/,
        /^new-styles-gallery/,
        /^new-styles-item/,
        /^new-styles-more-btn/,
        /^more-info-container/,
        /^more-info-content/,
        /^tutorial-icon-pink/,
        /^tutorial-icon-orange/,
        /^tutorial-icon-yellow/,
        /^tutorial-icon-green/,
        /^tutorial-icon-teal/,
        /^tutorial-icon-blue/,
        /^tutorial-icon-purple/,
        /^image-gallery/,
        /^gallery-item/,
        /^prompt-container/,
        /^container/
      ]
    })
  ].filter(Boolean)
} 